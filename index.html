<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Calculadora IMC</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.2/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>
  

<body>
  
    <div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom box-shadow">
      <h5 class="my-0 mr-md-auto font-weight-normal">IMC da Elis</h5>
      <nav class="my-2 my-md-0 mr-md-3">
        <a class="p-2 text-dark" href="#">Feito</a>
        <a class="p-2 text-dark" href="#">Com</a>
        <a class="p-2 text-dark" href="#">Carinho</a>
      </nav>
      <a class="btn btn-outline-primary" href="#"><3</a>
    </div>
  
<div class="container">
  <h3 class="display-4">Calculadora IMC</h3>
  <hr/>
  <form onsubmit="event.preventDefault();">
    <div class="row">
      <div class="col-md-3">
        <div class="form-group">
          <label>IMC</label>
          <input id='imc' class="form-control" type="number" step="0.1" placeholder="25.6"/>
        </div>
      </div>
      <div class="col-md-3">
        <div class="form-group">
          <label>Peso Min</label>
          <input id='pmin' class="form-control" type="number" placeholder="60"/>
        </div>
        <div class="form-group">
          <label>Peso Max</label>
          <input id='pmax' class="form-control" type="number" placeholder="65"/>
        </div>
      </div>
      <div class="col-md-3">
        <div class="form-group">
          <label>Altura Min</label>
          <input id='hmin' class="form-control" type="number" step="0.01" placeholder="1.70"/>
        </div>
        <div class="form-group">
          <label>Altura Max</label>
          <input id='hmax' class="form-control" type="number" step="0.01" placeholder="1.75"/>
        </div>
      </div>
      <div class="col-md-3">
        <div class="form-group">
          <label>Margem de erro</label>
          <input id='error' class="form-control" type="number" step="0.01" placeholder="0.1"/>
        </div>
        <button class="btn btn-info btn-block">Calcular</button>
      </div>
    </div>
  </form>
  </hr>
  <div id="result"></div>
</div>

</body>
           
<script>
$('form').on('submit', function() {
  var imc = parseFloat($("#imc").val());
  var pmin = parseFloat($("#pmin").val());
  var pmax = parseFloat($("#pmax").val());
  var hmin = parseFloat($("#hmin").val());
  var hmax = parseFloat($("#hmax").val());
  var error = parseFloat($("#error").val());

  var calc_imc;
  
  var answers = [];
  
  for(var p = pmin; p <= pmax; p = p + 1) {
    for(var h = hmin; h <= hmax; h = h + 0.1) {
      calc_imc = p  * 1.0 / (h * h);
      if (Math.abs(calc_imc - imc) <= error) {
        answers.push(
          "<ul><li>IMC: " + calc_imc + 
          "</li><li>Peso: " + p + 
          "</li><li>Altura: " + h +
          "</li></ul><br/>"
        );
      }
    }
  }
  
  $("#result").html("<h4>Respostas</h4>" + answers);
});
</script>
</html>
